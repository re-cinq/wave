{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "description": "Validation report for documentation sync status",
  "required": [
    "sync_status",
    "inconsistencies",
    "broken_references",
    "priority_actions"
  ],
  "properties": {
    "sync_status": {
      "type": "object",
      "description": "Overall sync status between code and documentation",
      "required": [
        "overall_score",
        "areas_in_sync",
        "areas_out_of_sync"
      ],
      "properties": {
        "overall_score": {
          "type": "number",
          "minimum": 0,
          "maximum": 100,
          "description": "Overall sync score as percentage"
        },
        "areas_in_sync": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Areas where documentation is well-synchronized"
        },
        "areas_out_of_sync": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Areas where documentation is out of sync"
        }
      }
    },
    "inconsistencies": {
      "type": "array",
      "description": "Specific inconsistencies found between code and documentation",
      "items": {
        "type": "object",
        "required": [
          "type",
          "location",
          "description",
          "code_reference",
          "doc_reference"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "API_CHANGE",
              "FEATURE_MISMATCH",
              "OUTDATED_EXAMPLE",
              "BROKEN_LINK",
              "VERSION_MISMATCH"
            ],
            "description": "Type of inconsistency"
          },
          "location": {
            "type": "string",
            "description": "File or section where inconsistency was found"
          },
          "description": {
            "type": "string",
            "description": "Detailed description of the inconsistency"
          },
          "code_reference": {
            "type": "string",
            "description": "Reference to relevant code"
          },
          "doc_reference": {
            "type": "string",
            "description": "Reference to relevant documentation"
          }
        }
      }
    },
    "broken_references": {
      "type": "array",
      "description": "Broken links and references in documentation",
      "items": {
        "type": "object",
        "required": [
          "file_path",
          "line_number",
          "broken_link",
          "link_type"
        ],
        "properties": {
          "file_path": {
            "type": "string",
            "description": "File containing the broken reference"
          },
          "line_number": {
            "type": "integer",
            "description": "Line number of the broken reference"
          },
          "broken_link": {
            "type": "string",
            "description": "The broken link or reference"
          },
          "link_type": {
            "type": "string",
            "enum": [
              "internal",
              "external",
              "code_reference"
            ],
            "description": "Type of broken link"
          }
        }
      }
    },
    "priority_actions": {
      "type": "array",
      "description": "Prioritized list of actions needed to sync documentation",
      "items": {
        "type": "object",
        "required": [
          "priority",
          "action",
          "target_files",
          "effort_estimate",
          "dependencies"
        ],
        "properties": {
          "priority": {
            "type": "integer",
            "minimum": 1,
            "maximum": 5,
            "description": "Priority level (1=highest, 5=lowest)"
          },
          "action": {
            "type": "string",
            "description": "Description of the required action"
          },
          "target_files": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Files that need to be updated"
          },
          "effort_estimate": {
            "type": "string",
            "enum": [
              "small",
              "medium",
              "large"
            ],
            "description": "Estimated effort required"
          },
          "dependencies": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Dependencies or prerequisites for this action"
          }
        }
      }
    }
  }
}